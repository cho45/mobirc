[% INCLUDE 'include/header.html' %]

<a name="1"></a>
<a accesskey="7" href="#1"></a>

<form action="[% docroot %]channels/[% channel | uri %]" method="post">
[% IF user_agent.match('(iPod|iPhone)') %]
    <input type="text" name="msg">
[% ELSE %]
    <input type="text" name="msg" size="10">
[% END %]
<input type="submit" accesskey="1" value="OK[1]">
</form>

[% IF channel_name.item(canon_channel) %]
    [% IF channel_buffer.item(canon_channel) and channel_buffer.item(canon_channel).size %]
        <a accesskey="9" href="#2"></a>
        [%- IF recent_mode %]
            [% FOR line IN channel_recent.item(canon_channel).reverse() %]
                [% render_line( line ) %]<br />
            [% END %]
            <hr />
            <a accesskey="5" href="[% docroot %]channels/[% channel | uri %]">more[5]</a><br />
        [% ELSE %]
            [% FOR line IN channel_buffer.item(canon_channel).reverse() %]
                [% render_line( line ) %]<br />
            [% END %]
        [% END %]
        <a accesskey="9" href="#2"></a>
        <a name="2"></a>
    [% ELSE %]
        no message here yet
    [% END %]
[% ELSE %]
    no such channel.
[% END %]

<hr />
<a accesskey="8" href="[% docroot %]">top[8]</a><br />

[% INCLUDE 'include/footer.html' %]
